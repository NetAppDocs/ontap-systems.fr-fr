---
permalink: asa-c800/controller-replace-move-hardware.html 
sidebar: sidebar 
keywords: asa c800, move the controller module hardware 
summary: Pour remplacer un module de contrôleur, vous devez retirer le contrôleur défectueux, déplacer les composants FRU vers le module de contrôleur de remplacement, installer le module de contrôleur de remplacement dans le châssis, puis démarrer le système en mode de maintenance. 
---
= Remplacez le matériel du module de contrôleur - ASA C800
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Remplacez le contrôleur de votre système ASA C800 lorsqu'une panne matérielle l'exige. Le processus de remplacement implique le retrait du contrôleur défectueux, le déplacement des composants vers le contrôleur de remplacement, l'installation du contrôleur de remplacement et son redémarrage.



== Étape 1 : retirer le module de contrôleur

Vous devez retirer le module de contrôleur du châssis lorsque vous remplacez le module de contrôleur ou remplacez un composant dans le module de contrôleur.

.Étapes
. Si vous n'êtes pas déjà mis à la terre, mettez-vous à la terre correctement.
. Assurez-vous que tous les lecteurs du châssis sont fermement installés contre le fond de panier central en appuyant sur chaque lecteur à l'aide de vos pouces jusqu'à ce que vous sentiez un arrêt positif.
+
.Vidéo - Confirmer le siège conducteur
video::2c46e4af-2c21-4f12-b065-b38b003d0ea2[panopto]
+
image::../media/drw_a800_drive_seated_IEOPS-960.svg[Installez les disques durs]

. Vérifiez les pilotes du contrôleur en fonction de l'état du système :
+
.. Sur le contrôleur sain, vérifiez si un groupe RAID actif est dans un état dégradé, en panne ou les deux :
+
[source, cli]
----
storage aggregate show -raidstatus !*normal*
----
+
*** Si la commande renvoie `There are no entries matching your query.` continuer à<<Check-missing-drives,Passez à la sous-étape suivante pour vérifier l'absence de disques.>> .
*** Si la commande renvoie d'autres résultats, collectez les données AutoSupport des deux contrôleurs et contactez le support NetApp pour obtenir de l'aide.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----


.. [[Check-missing-drives]]Vérifiez les problèmes de disques manquants pour le système de fichiers ou les disques de secours :
+
[source, cli]
----
event log show -severity * -node * -message-name *disk.missing*
----
+
*** Si la commande renvoie `There are no entries matching your query.` continuer à<<remove-power-cables,passer à l'étape suivante>> .
*** Si la commande renvoie d'autres résultats, collectez les données AutoSupport des deux contrôleurs et contactez le support NetApp pour obtenir de l'aide.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----




. [[remove-power-cables]]Retirez les fixations des câbles d'alimentation, puis débranchez les câbles des alimentations.
. Desserrez la sangle auto-agrippante du dispositif de gestion des câbles.  Débranchez les câbles système et les modules SFP/QSFP (le cas échéant) du module contrôleur.  Notez l'emplacement de chaque câble.
+
Laissez les câbles dans le périphérique de gestion des câbles de sorte que lorsque vous réinstallez le périphérique de gestion des câbles, les câbles sont organisés.

. Retirez le périphérique de gestion des câbles du module de contrôleur et mettez-le de côté.
. Appuyez sur les deux loquets de verrouillage, puis faites pivoter les deux loquets vers le bas en même temps.
+
Le module de contrôleur se déplace légèrement hors du châssis.

+
image::../media/drw_a800_pcm_remove.png[Retrait du module de contrôleur]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Loquet de verrouillage



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Goupille de blocage

|===
. Faites glisser le module de contrôleur hors du châssis et placez-le sur une surface plane et stable.
+
Soutenez la partie inférieure du module de commande pendant que vous le faites glisser hors du châssis.





== Étape 2 : déplacer les blocs d'alimentation

Déplacez les alimentations vers le module de commande de remplacement.

.Étapes
. Faites tourner la poignée de came de façon à pouvoir tirer le bloc d'alimentation hors du module de contrôleur tout en appuyant sur la patte de verrouillage.
+

CAUTION: L'alimentation est en court-circuit. Utilisez toujours deux mains pour le soutenir lors du retrait du module de contrôleur afin qu'il ne bascule pas brusquement et ne vous blesse pas.

+
image::../media/drw_a800_replace_psu.svg[Retirez ou remplacez un bloc d'alimentation]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Languette bleue de verrouillage du bloc d'alimentation



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Alimentation électrique

|===
. Déplacez le bloc d'alimentation vers le nouveau module de contrôleur, puis installez-le.
. À l'aide des deux mains, soutenez et alignez les bords du bloc d'alimentation avec l'ouverture du module de contrôleur, puis poussez doucement le bloc d'alimentation dans le module de contrôleur jusqu'à ce que la languette de verrouillage s'enclenche.
+
Les blocs d'alimentation ne s'enclenteront correctement qu'avec le connecteur interne et se verrouillent d'une seule manière.

+

NOTE: Pour éviter d'endommager le connecteur interne, ne pas exercer de force excessive lors du glissement du bloc d'alimentation dans le système.





== Étape 3 : déplacer les ventilateurs

Déplacez les modules de ventilateur vers le module de commande de remplacement.

.Étapes
. Retirez le module de ventilateur en pinçant les languettes de verrouillage sur le côté du module de ventilateur, puis en soulevant le module de ventilateur pour le sortir du module de contrôleur.
+
image::../media/drw_a800_replace_fan.png[Déposer le ventilateur]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Languettes de verrouillage du ventilateur



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Module de ventilateur

|===
. Déplacez le module de ventilateur vers le module de contrôleur de remplacement, puis installez le module de ventilateur en alignant ses bords avec l'ouverture du module de contrôleur, puis en faisant glisser le module de ventilateur dans le module de contrôleur jusqu'à ce que les loquets de verrouillage s'enclenchent.
. Répétez ces étapes pour les autres modules de ventilation.




== Étape 4 : déplacez la batterie NVDIMM

Déplacez la batterie NVDIMM vers le module de contrôleur de remplacement.

.Étapes
. Ouvrez le couvercle du conduit d'air et repérez la batterie NVDIMM dans la carte de montage.
+
image::../media/drw_a800_nvdimm_battery_replace.png[Remplacez la batterie NVDIMM]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Rehausse de conduit d'air



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Fiche de batterie NVDIMM



 a| 
image:../media/icon_round_3.png["Numéro de légende 3"]
 a| 
Batterie NVDIMM

|===
+
*Attention :* le voyant de la carte de commande de la batterie NVDIMM clignote pendant la transmission du contenu à la mémoire flash lorsque vous arrêtez le système. Une fois le transfert terminé, le voyant s'éteint.

. Localisez la fiche mâle batterie et appuyez sur le clip situé sur la face de la fiche mâle batterie pour libérer la fiche de la prise, puis débranchez le câble de batterie de la prise.
. Saisissez la batterie et soulevez-la hors du conduit d'air et du module de contrôleur.
. Placez la batterie dans le module de contrôleur de remplacement, puis installez-la dans le conduit d'air NVDIMM :
+
.. Insérez la batterie dans son logement et appuyez fermement sur la batterie pour vous assurer qu'elle est bien verrouillée.
.. Branchez la fiche de la batterie dans la prise de montage et assurez-vous que la fiche se verrouille en place.






== Étape 5 : retirez les cartes de montage PCIe

Retirez les cartes d'extension PCIe du module de contrôleur défectueux.

.Étapes
. Retirez la carte de montage PCIe du module de contrôleur :
+
.. Retirez tous les modules SFP ou QSFP qui peuvent se trouver dans les cartes PCIe.
.. Faites pivoter le loquet de verrouillage de la rehausse sur le côté gauche de la rehausse vers le haut et vers les modules de ventilateur.
+
La carte de montage se soulève légèrement du module de contrôleur.

.. Soulevez la carte de montage, déplacez-la vers les ventilateurs de manière à ce que la lèvre métallique de la carte de montage soit dégagée du bord du module de contrôleur, soulevez la carte de montage pour la sortir du module de contrôleur, puis placez-la sur une surface plane et stable.
+
image::../media/drw_a800_riser_2_3_remove.png[Déposer les rehausses 2 et 3]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Conduit d'air



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Verrous de verrouillage de la rehausse 1 (rehausse gauche), de la rehausse 2 (rehausse centrale) et 3 (rehausse droite)

|===


. Répétez l'étape précédente pour les autres surmontoirs du module de commande pour personnes en état de fonctionnement.
. Répétez les étapes ci-dessus avec les surmontoirs vides dans le contrôleur de remplacement et mettez-les à l'écart.




== Étape 6 : déplacement des DIMM système

Déplacez les barrettes DIMM du système vers le module de contrôleur de remplacement.

.Étapes
. Notez l'orientation du module DIMM dans le support afin que vous puissiez insérer le module DIMM dans le module de remplacement dans le bon sens.
. Éjectez le module DIMM de son logement en écartant lentement les deux languettes de l'éjecteur de DIMM de chaque côté du module DIMM, puis en faisant glisser le module DIMM hors de son logement.
+

NOTE: Tenez soigneusement le module DIMM par les bords pour éviter toute pression sur les composants de la carte de circuit DIMM.

. Repérez le logement où vous installez le module DIMM.
. Insérez le module DIMM directement dans le logement.
+
Le module DIMM s'insère bien dans le logement, mais devrait être facilement installé. Si ce n'est pas le cas, réalignez le module DIMM avec le logement et réinsérez-le.

+

NOTE: Inspectez visuellement le module DIMM pour vérifier qu'il est bien aligné et complètement inséré dans le logement.

. Poussez délicatement, mais fermement, sur le bord supérieur du module DIMM jusqu'à ce que les languettes de l'éjecteur s'enclenchent sur les encoches situées aux extrémités du module DIMM.
. Répétez ces étapes pour les autres modules DIMM.




== Étape 7 : déplacez les NVDIMM

Déplacez les NVDIMM vers le module contrôleur de remplacement.

.Étapes
. Localisez les NVDIMM de votre module de contrôleur.
+
image::../media/drw_a800_no_risers_nvdimm_move.svg[Déplacez les NVDIMM]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Conduit d'air



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
NVDIMM

|===
. Notez l'orientation du NVDIMM dans le support pour pouvoir insérer le NVDIMM dans le module de remplacement du contrôleur dans le bon sens.
. Éjectez le NVDIMM de son logement en écartant lentement les deux languettes d'éjection NVDIMM de chaque côté du NVDIMM, puis faites glisser le NVDIMM hors du support et mettez-le de côté.
+

NOTE: Tenez soigneusement le NVDIMM par les bords pour éviter toute pression sur les composants de la carte de circuit imprimé NVDIMM.

. Localisez le logement où vous installez le NVDIMM.
. Insérez le NVDIMM directement dans le logement.
+
Le NVDIMM s'insère fermement dans le logement, mais devrait être facilement installé. Si ce n'est pas le cas, réalignez le NVDIMM avec le logement et réinsérez-le.

+

NOTE: Inspectez visuellement le NVDIMM pour vérifier qu'il est bien aligné et complètement inséré dans le logement.

. Poussez délicatement, mais fermement, sur le bord supérieur du NVDIMM jusqu'à ce que les languettes de l'éjecteur s'enclenchent au-dessus des encoches aux extrémités du NVDIMM.
. Répétez les étapes précédentes pour déplacer l'autre NVDIMM.




== Étape 8 : déplacer le support de démarrage

Transférez le support de démarrage vers le module de contrôleur de remplacement.

.Étapes
. Localisez le support de démarrage sous Riser 3.
+
image::../media/drw_a800_pcm_replace_only_boot_media.png[Retirez le support de démarrage]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Légende numéro 1"]
 a| 
Conduit d'air



 a| 
image:../media/icon_round_2.png["Légende numéro 2"]
 a| 
Carte de montage 3



 a| 
image:../media/icon_round_3.png["Numéro de légende 3"]
 a| 
Tournevis cruciforme n° 1



 a| 
image:../media/icon_round_4.png["Numéro de légende 4"]
 a| 
Vis du support de démarrage



 a| 
image:../media/icon_round_5.png["Numéro de légende 5"]
 a| 
Support de démarrage

|===
. Retirez le support de démarrage du module de contrôleur :
+
.. À l'aide d'un tournevis cruciforme n° 1, retirez la vis qui maintient le support de démarrage et mettez la vis de côté en lieu sûr.
.. Saisissez les côtés du support de coffre, faites pivoter doucement le support de coffre vers le haut, puis tirez le support de coffre hors du support et mettez-le de côté.


. Déplacez le support de démarrage vers le nouveau module de contrôleur et installez-le :
+
.. Alignez les bords du support de coffre avec le logement de la prise, puis poussez-le doucement d'équerre dans le support.
.. Faites pivoter le support de démarrage vers le bas, vers la carte mère.
.. Fixez le support de démarrage à la carte mère à l'aide de la vis du support de démarrage.
+
Ne serrez pas trop la vis pour éviter d'endommager le support de démarrage.







== Étape 9 : installez les cartes de montage PCIe

Installez les colonnes montantes dans le module de commande de remplacement.

.Étapes
. Installez la carte de montage dans le module de contrôleur de remplacement :
+
.. Alignez la lèvre de la carte de montage avec la partie inférieure de la tôle du module de contrôleur.
.. Guidez la carte de montage le long des broches du module de contrôleur, puis abaissez la carte de montage dans le module de contrôleur.
.. Faites pivoter le loquet de verrouillage vers le bas et cliquez dessus en position verrouillée.
+
Lorsqu'il est verrouillé, le loquet de verrouillage est aligné avec le haut de la carte de montage et la carte de montage est placée directement dans le module de contrôleur.

.. Réinsérez tous les modules SFP ou QSFP qui ont été retirés des cartes PCIe.


. Répétez l'étape précédente pour les autres cartes de montage PCIe.




== Étape 10 : installer le module de contrôleur

Réinstallez le module de contrôleur et redémarrez-le.

.Étapes
. Alignez l'extrémité du module de contrôleur avec l'ouverture du châssis, puis poussez doucement le module de contrôleur à mi-course dans le système.
+

NOTE: N'insérez pas complètement le module de contrôleur dans le châssis tant qu'il n'y a pas été demandé.

. Recâblage du système, selon les besoins.
+
Si vous avez retiré les convertisseurs de support (QSFP ou SFP), n'oubliez pas de les réinstaller si vous utilisez des câbles à fibre optique.

. Terminez la réinstallation du module de contrôleur :
+
.. Poussez fermement le module de contrôleur dans le châssis jusqu'à ce qu'il rencontre le fond de panier central et qu'il soit bien en place.
+
Les loquets de verrouillage se montent lorsque le module de contrôleur est bien en place.

+

NOTE: Ne forcez pas trop lorsque vous faites glisser le module de contrôleur dans le châssis pour éviter d'endommager les connecteurs.

.. Faites pivoter les loquets de verrouillage vers le haut, inclinez-les de manière à dégager les goupilles de verrouillage, puis abaissez-les en position verrouillée.
.. Branchez les cordons d'alimentation aux blocs d'alimentation, réinstallez le collier de verrouillage du câble d'alimentation, puis branchez les blocs d'alimentation à la source d'alimentation.
+
Le module de contrôleur commence à démarrer dès que l'alimentation est rétablie. Soyez prêt à interrompre le processus de démarrage.

.. Si ce n'est déjà fait, réinstallez le périphérique de gestion des câbles.


. Remettre le contrôleur défectueux en fonctionnement normal en réutilisant son espace de stockage :
+
`storage failover giveback -ofnode _impaired_node_name_`.

. Si le retour automatique a été désactivé, réactivez-le :
+
`storage failover modify -node local -auto-giveback true`.

. Si AutoSupport est activé, restaurer/annuler la suppression de la création automatique de cas :
+
`system node autosupport invoke -node * -type all -message MAINT=END`.



.Et la suite ?
Après avoir remplacé le contrôleur ASA C800 défectueux, vous devez :link:controller-replace-system-config-restore-and-verify.html["restaurez la configuration du système"]
